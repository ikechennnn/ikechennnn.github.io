
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="https://unpkg.com/topojson@3"></script>
    <title>Hurricanes</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>

    <div id="banner">

      <h1>Atlantic Hurricane & Tropical Storm Activity</h1>

      <p>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque ut enim sit amet turpis elementum tristique at in mauris.
      </p>
      <p>
        <!-- Created by Muxing Chen -->
      </p>

    </div>

    <div class="section">
      <svg id="chart1">
        <g id="map"></g>
      </svg>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque ut enim sit amet turpis elementum tristique at in mauris. Etiam egestas nulla vel leo dictum eleifend. Aenean ac gravida leo. Phasellus sed justo rutrum, iaculis orci vel, fringilla nisi. Pellentesque vestibulum aliquam odio, sed suscipit metus aliquet rutrum. Nam pharetra et nibh a semper. Phasellus a eleifend magna. Nulla vel sapien vulputate, finibus justo ac, convallis odio. Nulla et augue arcu. Duis porta augue laoreet lacus dictum, eu hendrerit sem tempor. Integer condimentum, enim sit amet sollicitudin pretium, ligula leo convallis nibh, eget aliquam ex orci vitae quam. Morbi maximus.</p>
      
    </div>

    <div class="section">
      <svg id="chart2"></svg>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis ultrices lorem ac metus vulputate, non finibus justo finibus. Phasellus vitae lectus viverra urna porttitor lobortis non quis enim. Nullam vel ultricies sapien, eget scelerisque lorem. Etiam et dolor neque. Aenean quis tempor magna, nec ullamcorper elit. In tellus ipsum, sollicitudin eget pellentesque eu, pulvinar eu lacus. Nulla facilisi. Donec eget lacus id odio sagittis rutrum vehicula sit amet nunc. Lorem ipsum dolor sit amet, consectetur.</p>
    </div>

    <div id="tooltip">
      <h2 id="title"></h2>
      <!-- Value: <span id="value"></span> -->
    </div>

    <script src="banner.js"></script>
    <script src="chart1.js"></script>
    <script src="chart2.js"></script>
    <script>

      // var mapdata = d3.csv("cleaned2.csv", function(error, csvdata){
      //     if(error){
      //         console.log(error);
      //     }
          
      //     // Loop through an array to change the string to value
      //     else{ csvdata.forEach(function(row){
      //         row.value = parseFloat(row.value)
      //         console.log(mapdata);
      //     });
      
          
      

      var width = 1650;
      var height = 500;

      var svg = d3.select("#chart1")
          .attr("width", width)
          .attr("height", height);
      
      var map = svg.select("#map");

      d3.json("world-alpha3.json", function(error, world) {
            console.log(world);
            var geoJSON = topojson.feature(world, world.objects.countries)
            console.log(geoJSON)

      // choose projection
      var proj = d3.geoMercator()
            .fitSize([width, height], geoJSON);
      
      // create path
      var path = d3.geoPath()
            .projection(proj);
        
      geoJSON.features = geoJSON.features.filter(function(d) {
          return d.id !== "ATA";
      });

      var countries = map.selectAll("path")
          .data(geoJSON.features);
      // enter pattern
      countries.enter().append("path")
          // d attribute in <path>
          .attr("d", path)
          .attr("fill", "#ccc")
          .attr("vector-effect","non-scaling-stroke")
          .attr("stroke", "#999")
          .attr("stroke-width", "0.5px");
      
      var mapdata = d3.csv("cleaned2.csv", function(error, csvdata){
                if(error){
                    console.log(error);
                }

                else{ 
                    console.log(csvdata)
                };
            });
      console.log(mapdata);
      

      
      });

    </script>
  </body>
</html>